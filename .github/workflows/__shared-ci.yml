name: Shared - Continuous Integration for common tasks

on:
  workflow_call:

jobs:
  lint:
    uses: hoverkraft-tech/ci-github-common/.github/workflows/linter.yml@198d391bd7046a3c8ca503d3387ad9c5ba8f9f29 # 0.22.0

  tests-docker:
    needs: lint
    uses: ./.github/workflows/__tests-docker.yml
    secrets: inherit

  tests-vm:
    needs: lint
    uses: ./.github/workflows/__tests-vm.yml
    secrets: inherit
